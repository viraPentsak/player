(this.webpackJsonpplayer=this.webpackJsonpplayer||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(33)},,,,,function(e,t,r){},,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(3),i=r.n(o),c=(r(20),r(1)),d=r(2),s=r(9),l={videoSrc:"",fetchInProgress:!1,error:""},u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,f=Object(d.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return"FETCH_VIDEO"===t.type?Object.assign({},e,{videoSrc:t.payload,fetchInProgress:!1}):"FETCH_ERROR"===t.type?Object.assign({},e,{error:t.payload,fetchInProgress:!1}):"FETCHING_IN_PROGRESS"===t.type?Object.assign({},e,{fetchInProgress:!0,error:""}):e}),u(Object(d.a)(s.a))),v=(r(27),Object(c.b)((function(e){return{error:e.error}}))((function(e){var t=e.children;return a.a.createElement("div",{className:"error"},e.error&&a.a.createElement("h2",{className:"error__text"},e.error),t)}))),m=r(10),p=r(11),h=r(12),b=r(13),E=r(14),_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Number.isNaN(e)||Number.isNaN(t)?0:(100*t/e).toFixed(r)},g=(r(28),function(){return a.a.createElement("div",{className:"loading"},a.a.createElement("span",null,"This is a spinner. Your data is loading..."))}),y=function(e){var t=e.videoSrc,r=e.videoRef,n=e.posterSrc,o=e.progressed,i=e.timeUpdated,c=e.videoIsLoaded,d=e.fetchInProgress;return a.a.createElement("div",{className:"video__inner"},d&&a.a.createElement(g,null),a.a.createElement("video",{className:"video__element",onProgress:o,onTimeUpdate:i,ref:r,poster:n,controls:c},a.a.createElement("source",{src:t})))},P=(r(29),function(e){var t=e.videoIsLoaded,r=e.buffered,n="timeline";t&&(n+=" is-loaded");var o={width:e.played+"%"},i={width:r+"%"};return a.a.createElement("div",{className:n},a.a.createElement("div",{className:"timeline__buffered",style:i}),a.a.createElement("div",{className:"timeline__played",style:o}))}),I=(r(30),function(e){var t=e.playedPercent,r=e.bufferedPercent,n=e.videoIsLoaded;return a.a.createElement("div",{className:"video"},a.a.createElement("div",{className:"video__wrapper"},a.a.createElement(y,e),a.a.createElement("div",{className:"video__timeline"},a.a.createElement(P,{videoIsLoaded:n,buffered:r,played:t}))))}),S=(r(31),function(e){var t=e.children,r=e.disabled,n=e.type,o=void 0===n?"button":n,i=e.clicked;return a.a.createElement("button",{type:o,className:"button",onClick:i,disabled:r},t)}),N=function(e){Object(E.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(p.a)(this,r),(a=t.call(this,e))._loadVideo=function(){a.videoRef.current.load()},a._getVideoSrc=function(){a.props.fetchVideo()},a._updateState=function(e,t){a.setState(Object(m.a)({},e,t))},a.videoProgressHandler=function(){var e=a.videoRef.current,t=e.buffered,r=e.duration,n=a._getBufferedTime(t),o=_(r,n,1);a._updateState("bufferedPercent",o)},a._getBufferedTime=function(e){var t=e.length;return t<1?0:e.end(t-1)},a.videoTimeUpdateHandler=function(){var e=a.videoRef.current,t=e.currentTime,r=e.duration,n=_(r,t,1);a._updateState("playedPercent",n)},a.state={videoIsLoaded:!1,playedPercent:"0",bufferedPercent:"0"},a.videoRef=Object(n.createRef)(),a}return Object(h.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var n=this;this.videoRef.current&&e.videoSrc!==this.props.videoSrc&&this.setState({videoIsLoaded:!0},(function(){n._loadVideo()}))}},{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement(I,{videoSrc:this.props.videoSrc,playedPercent:this.state.playedPercent,bufferedPercent:this.state.bufferedPercent,progressed:this.videoProgressHandler,timeUpdated:this.videoTimeUpdateHandler,videoRef:this.videoRef,fetchInProgress:this.props.fetchInProgress,videoIsLoaded:this.state.videoIsLoaded,posterSrc:"https://peach.blender.org/wp-content/uploads/bbb-splash.png?x10518"}),a.a.createElement(S,{disabled:this.props.fetchInProgress,clicked:this._getVideoSrc},"Get video URL"))}}]),r}(n.Component),O=Object(c.b)((function(e){return{videoSrc:e.videoSrc,fetchInProgress:e.fetchInProgress}}),{fetchVideo:function(){var e=Math.floor(1e4*(Math.random()+.1)),t=Math.round(10*Math.random())<=2;return function(r){r({type:"FETCHING_IN_PROGRESS"}),new Promise((function(r,n){setTimeout((function(){t&&n("API Error. Try again later"),r()}),e)})).then((function(){r({type:"FETCH_VIDEO",payload:"http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_30fps_normal.mp4"})}),(function(e){r({type:"FETCH_ERROR",payload:e})}))}}})(N);r(32);var R=function(){return a.a.createElement(c.a,{store:f},a.a.createElement("div",{className:"App"},a.a.createElement(v,null,a.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.c2609d0d.chunk.js.map